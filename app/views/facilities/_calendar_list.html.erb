<script>
$('#calendar').fullCalendar({
  events: [
    <% @events.each do |event| %>
    {

      title:'<%= event.number %> <%= event.title %>/<%= event.customer.last_name %>(<%= event.people %>)',
      start:'<%= event.start_at.strftime("%Y-%m-%d %H:%M") %>',
      end: '<%= event.end_at.strftime("%Y-%m-%d %H:%M") %>'
    },
    <% end %>
  ],
  //カレンダー上部を年月で表示
  titleFormat: 'YYYY年 M月',
  //曜日
  dayNamesShort: ['日', '月', '火', '水', '木', '金', '土'],
  //ボタン
  header: {
      left: 'title',
      center: '',
      right: 'today prev,next'
  },
  //終了時刻がないイベントの表示間隔
  defaultTimedEventDuration: '03:00:00',
  buttonText: {
      prev: '前',
      next: '次',
      prevYear: '前年',
      nextYear: '翌年',
      today: '今日',
      month: '月',
      week: '週',
      day: '日'
  },
  // Drag & Drop & Resize
  editable: true,
  // 時間の書式
  defaultView: 'month',
  displayEventTime: true,
  displayEventEnd: true,
  timeFormat: "HH:mm",
  //イベントの文字色
  eventTextColor: '#ffffff',
  //クリックしたイベントのタイトルを取る
  eventClick: function(item, jsEvent, view) {
    alert('予約内容：' + item.title);
  }
});
//イベントタイトルに応じて色を変更
 $(".fc-content:contains('予約済')").css("background-color","#4169e1");
 $(".fc-content:contains('キャンセル済')").css("background-color","#dc143c");
</script>